{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.213.0"},"children":{"AwsPortfolioDemo":{"id":"AwsPortfolioDemo","path":"AwsPortfolioDemo","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.213.0"},"children":{"TasksTable":{"id":"TasksTable","path":"AwsPortfolioDemo/TasksTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/TasksTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"}]}}},"ScalingRole":{"id":"ScalingRole","path":"AwsPortfolioDemo/TasksTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"Vpc":{"id":"Vpc","path":"AwsPortfolioDemo/Vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/Vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"AwsPortfolioDemo/Vpc"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"AwsPortfolioDemo/Vpc/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AwsPortfolioDemo/Vpc/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/17","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"AwsPortfolioDemo/Vpc/publicSubnet1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"AwsPortfolioDemo/Vpc/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AwsPortfolioDemo/Vpc/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsPortfolioDemo/Vpc/publicSubnet1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AwsPortfolioDemo/Vpc/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcpublicSubnet1RouteTable15C15F8E"},"subnetId":{"Ref":"VpcpublicSubnet1Subnet2BB74ED7"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AwsPortfolioDemo/Vpc/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcpublicSubnet1RouteTable15C15F8E"}}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"AwsPortfolioDemo/Vpc/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"AwsPortfolioDemo/Vpc/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/17","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"AwsPortfolioDemo/Vpc/publicSubnet2"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"AwsPortfolioDemo/Vpc/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AwsPortfolioDemo/Vpc/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsPortfolioDemo/Vpc/publicSubnet2"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AwsPortfolioDemo/Vpc/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcpublicSubnet2RouteTableC5A6DF77"},"subnetId":{"Ref":"VpcpublicSubnet2SubnetE34B022A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AwsPortfolioDemo/Vpc/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcpublicSubnet2RouteTableC5A6DF77"}}}}}},"IGW":{"id":"IGW","path":"AwsPortfolioDemo/Vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsPortfolioDemo/Vpc"}]}}},"VPCGW":{"id":"VPCGW","path":"AwsPortfolioDemo/Vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"VpcIGWD7BA715C"},"vpcId":{"Ref":"Vpc8378EB38"}}}}}},"Cluster":{"id":"Cluster","path":"AwsPortfolioDemo/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/Cluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}}}},"WorkerImage":{"id":"WorkerImage","path":"AwsPortfolioDemo/WorkerImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.213.0"},"children":{"Staging":{"id":"Staging","path":"AwsPortfolioDemo/WorkerImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"Repository":{"id":"Repository","path":"AwsPortfolioDemo/WorkerImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.213.0","metadata":[]}}}},"WorkerTaskDef":{"id":"WorkerTaskDef","path":"AwsPortfolioDemo/WorkerTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.213.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"AwsPortfolioDemo/WorkerTaskDef/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"AwsPortfolioDemo/WorkerTaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"AwsPortfolioDemo/WorkerTaskDef/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwsPortfolioDemo/WorkerTaskDef/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/WorkerTaskDef/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TasksTable88911DC5","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"WorkerTaskDefTaskRoleDefaultPolicy04B116E6","roles":[{"Ref":"WorkerTaskDefTaskRole7915D243"}]}}}}}}},"Resource":{"id":"Resource","path":"AwsPortfolioDemo/WorkerTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"${AWS::AccountId}.dkr.ecr.${AWS::Region}.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-${AWS::AccountId}-${AWS::Region}:2632c2a31efc4d57ed008c8e549459198c4c0072febb5d7439e856ccd752a1f1"},"name":"WorkerContainer","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"WorkerTaskDefWorkerContainerLogGroup93EC44E5"},"awslogs-stream-prefix":"worker","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"TABLE_NAME","value":{"Ref":"TasksTable88911DC5"}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["WorkerTaskDefExecutionRoleA889F066","Arn"]},"family":"AwsPortfolioDemoWorkerTaskDefB59FEB69","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"runtimePlatform":{"cpuArchitecture":"X86_64","operatingSystemFamily":"LINUX"},"taskRoleArn":{"Fn::GetAtt":["WorkerTaskDefTaskRole7915D243","Arn"]}}}},"WorkerContainer":{"id":"WorkerContainer","path":"AwsPortfolioDemo/WorkerTaskDef/WorkerContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.213.0"},"children":{"LogGroup":{"id":"LogGroup","path":"AwsPortfolioDemo/WorkerTaskDef/WorkerContainer/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/WorkerTaskDef/WorkerContainer/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{}}}}}}},"ExecutionRole":{"id":"ExecutionRole","path":"AwsPortfolioDemo/WorkerTaskDef/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"AwsPortfolioDemo/WorkerTaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"AwsPortfolioDemo/WorkerTaskDef/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwsPortfolioDemo/WorkerTaskDef/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/WorkerTaskDef/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":repository/",{"Fn::Sub":"cdk-hnb659fds-container-assets-${AWS::AccountId}-${AWS::Region}"}]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["WorkerTaskDefWorkerContainerLogGroup93EC44E5","Arn"]}}],"Version":"2012-10-17"},"policyName":"WorkerTaskDefExecutionRoleDefaultPolicy7E2F924A","roles":[{"Ref":"WorkerTaskDefExecutionRoleA889F066"}]}}}}}}}}},"TaskSG":{"id":"TaskSG","path":"AwsPortfolioDemo/TaskSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/TaskSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AwsPortfolioDemo/TaskSG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}}}},"ApiFn":{"id":"ApiFn","path":"AwsPortfolioDemo/ApiFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.213.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwsPortfolioDemo/ApiFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwsPortfolioDemo/ApiFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"AwsPortfolioDemo/ApiFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwsPortfolioDemo/ApiFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/ApiFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TasksTable88911DC5","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":"ecs:RunTask","Effect":"Allow","Resource":{"Ref":"WorkerTaskDef3CFCC8D9"}},{"Action":"iam:PassRole","Effect":"Allow","Resource":[{"Fn::GetAtt":["WorkerTaskDefTaskRole7915D243","Arn"]},{"Fn::GetAtt":["WorkerTaskDefExecutionRoleA889F066","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ApiFnServiceRoleDefaultPolicy56A1E6E5","roles":[{"Ref":"ApiFnServiceRoleD18AAE0E"}]}}}}}}},"Code":{"id":"Code","path":"AwsPortfolioDemo/ApiFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"AwsPortfolioDemo/ApiFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwsPortfolioDemo/ApiFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwsPortfolioDemo/ApiFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"54e9ee0afe41c4029957dc2e66c65c0b02ef46fa61e46f0afdb90c7fe834b8e7.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"TasksTable88911DC5"},"CLUSTER_ARN":{"Fn::GetAtt":["ClusterEB0386A7","Arn"]},"TASK_DEF_ARN":{"Ref":"WorkerTaskDef3CFCC8D9"},"SUBNET_IDS":{"Fn::Join":["",[{"Ref":"VpcpublicSubnet1Subnet2BB74ED7"},",",{"Ref":"VpcpublicSubnet2SubnetE34B022A"}]]},"SECURITY_GROUP_ID":{"Fn::GetAtt":["TaskSG7164C6FA","GroupId"]}}},"handler":"index.handler","role":{"Fn::GetAtt":["ApiFnServiceRoleD18AAE0E","Arn"]},"runtime":"nodejs20.x","timeout":10}}}}},"HttpApi":{"id":"HttpApi","path":"AwsPortfolioDemo/HttpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/HttpApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"corsConfiguration":{"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"]},"name":"HttpApi","protocolType":"HTTP"}}},"DefaultStage":{"id":"DefaultStage","path":"AwsPortfolioDemo/HttpApi/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/HttpApi/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"autoDeploy":true,"stageName":"$default"}}}}},"ANY--graphql":{"id":"ANY--graphql","path":"AwsPortfolioDemo/HttpApi/ANY--graphql","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.213.0","metadata":[]},"children":{"LambdaIntegration":{"id":"LambdaIntegration","path":"AwsPortfolioDemo/HttpApi/ANY--graphql/LambdaIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AwsPortfolioDemo/HttpApi/ANY--graphql/LambdaIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["ApiFnE0725F78","Arn"]},"payloadFormatVersion":"2.0"}}}}},"LambdaIntegration-Permission":{"id":"LambdaIntegration-Permission","path":"AwsPortfolioDemo/HttpApi/ANY--graphql/LambdaIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFnE0725F78","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HttpApiF5A9A8A7"},"/*/*/graphql"]]}}}},"Resource":{"id":"Resource","path":"AwsPortfolioDemo/HttpApi/ANY--graphql/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"authorizationType":"NONE","routeKey":"ANY /graphql","target":{"Fn::Join":["",["integrations/",{"Ref":"HttpApiANYgraphqlLambdaIntegrationC2CA8421"}]]}}}}}}}},"GraphQLEndpoint":{"id":"GraphQLEndpoint","path":"AwsPortfolioDemo/GraphQLEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AwsPortfolioDemo/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AwsPortfolioDemo/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}},"Condition":{"id":"Condition","path":"AwsPortfolioDemo/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.213.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AwsPortfolioDemo/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.213.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AwsPortfolioDemo/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.213.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}